<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>iBuddha</title><meta description="iBuddha的blog"><meta property="og:type" content="blog"><meta property="og:title" content="iBuddha"><meta property="og:url" content="https://ibuddha.github.io/"><meta property="og:site_name" content="iBuddha"><meta property="og:description" content="iBuddha的blog"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://ibuddha.github.io/img/og_image.png"><meta property="article:author" content="xing"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ibuddha.github.io"},"headline":"iBuddha","image":["https://ibuddha.github.io/img/og_image.png"],"author":{"@type":"Person","name":"xing"},"description":"iBuddha的blog"}</script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/lotus.png" alt="iBuddha" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-11T14:44:54.000Z" title="2020-07-11T14:44:54.000Z">2020-07-11</time><span class="level-item"><a class="link-muted" href="/categories/hadoop/">hadoop</a></span><span class="level-item">6 分钟 读完 (大约 897 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/11/hadoop-empty-configuration/">如何得到一个空的Hadoop Configuration</a></h1><div class="content"><p>都怪JDK， <code>File</code>类的<code>delete()</code>方法竟然不能删除非空的目录。所以，我就想用Hadoop的API，于是有了下面一段程序</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> fileSystem = <span class="type">FileSystem</span>.newInstance(<span class="keyword">new</span> <span class="type">Configuration</span>())</span><br><span class="line"><span class="keyword">val</span> warehousePath = <span class="keyword">new</span> <span class="type">Path</span>(<span class="string">"spark-warehouse"</span>)</span><br><span class="line"><span class="keyword">if</span>(fileSystem.exists(warehousePath))</span><br><span class="line">  fileSystem.delete(warehousePath, <span class="literal">true</span>)</span><br><span class="line"><span class="keyword">val</span> metastoreDB = <span class="keyword">new</span> <span class="type">Path</span>(<span class="string">"metastore_db"</span>)</span><br><span class="line"><span class="keyword">if</span> (fileSystem.exists(metastoreDB))</span><br><span class="line">  fileSystem.delete(metastoreDB)</span><br></pre></td></tr></table></figure>

<p>问题是，<code>new Configuration()</code>默认会从classpath里找到<code>core-site.xml</code>和<code>core-default.xml</code>来加载，所以我想，万一以后不小心把这些文件加到classpath里呢？比如哪天我想要测试连接别的机器上的HDFS。还好，<code>Configuration</code>类有个方法来禁止对这俩文件的加载， 正如这个类的注释所说的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Unless explicitly turned off, Hadoop by default specifies two resources, loaded in-order from the classpath:</span><br><span class="line"></span><br><span class="line">1. &#96;core-default.xml&#96;: Read-only defaults for hadoop.</span><br><span class="line">2. &#96;core-site.xml&#96;: Site-specific configuration for a given hadoop installation.</span><br></pre></td></tr></table></figure>

<p>我搞了个<code>core-site.xml</code>到classpath下，于是这段代码就会报错说</p>
<figure class="highlight plain"><figcaption><span>in thread "main" java.lang.IllegalArgumentException: java.net.UnknownHostException: cdh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:378)</span><br><span class="line">	at org.apache.hadoop.hdfs.NameNodeProxies.createNonHAProxy(NameNodeProxies.java:320)</span><br><span class="line">	at org.apache.hadoop.hdfs.NameNodeProxies.createProxy(NameNodeProxies.java:176)</span><br><span class="line">	at org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:678)</span><br><span class="line">	at org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:619)</span><br><span class="line">	at org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:149)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2669)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:94)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2703)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem$Cache.getUnique(FileSystem.java:2691)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem.newInstance(FileSystem.java:420)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem.newInstance(FileSystem.java:428)</span><br><span class="line">	at sleepy.spark.SparkHiveExample$.main(SparkHiveExample.scala:45)</span><br><span class="line">	at sleepy.spark.SparkHiveExample.main(SparkHiveExample.scala)</span><br><span class="line">Caused by: java.net.UnknownHostException: cdh</span><br><span class="line">	... 14 more</span><br></pre></td></tr></table></figure>



<p>看起来程序去连接外部的HDFS时，发现无法识别<code>cdh</code>， 实际上它也并非是域名，而是<code>dfs.nameservices</code>的值。</p>
<p>好的，那就用<code>Configuration(boolean)</code>这个构造器, 这的文档是这样说的</p>
<blockquote>
<p>A new configuration where the behavior of reading from the default resources can be turned off. If the parameter <code>loadDefaults</code> is false, the new instance will not load resources from the default files.  </p>
</blockquote>
<p>但是呢，执行的时候仍然在报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.io.IOException: failure to login</span><br><span class="line">	at org.apache.hadoop.security.UserGroupInformation.loginUserFromSubject(UserGroupInformation.java:841)</span><br><span class="line">	at org.apache.hadoop.security.UserGroupInformation.getLoginUser(UserGroupInformation.java:777)</span><br><span class="line">	at org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:650)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem$Cache$Key.&lt;init&gt;(FileSystem.java:2828)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem$Cache.getUnique(FileSystem.java:2690)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem.newInstance(FileSystem.java:420)</span><br><span class="line">	at org.apache.hadoop.fs.FileSystem.newInstance(FileSystem.java:428)</span><br><span class="line">	at sleepy.spark.SparkHiveExample$.main(SparkHiveExample.scala:47)</span><br><span class="line">	at sleepy.spark.SparkHiveExample.main(SparkHiveExample.scala)</span><br><span class="line">Caused by: javax.security.auth.login.LoginException: java.lang.IllegalArgumentException: Illegal principal name foo@FOO.COM: org.apache.hadoop.security.authentication.util.KerberosName$NoMatchingRule: No rules applied to foo@FOO.COM</span><br><span class="line">	at org.apache.hadoop.security.UserGroupInformation$HadoopLoginModule.commit(UserGroupInformation.java:201)</span><br><span class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span><br><span class="line">	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">	at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">	at javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)</span><br><span class="line">	at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)</span><br><span class="line">	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)</span><br><span class="line">	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)</span><br><span class="line">	at java.security.AccessController.doPrivileged(Native Method)</span><br><span class="line">	at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)</span><br><span class="line">	at javax.security.auth.login.LoginContext.login(LoginContext.java:588)</span><br><span class="line">	at org.apache.hadoop.security.UserGroupInformation.loginUserFromSubject(UserGroupInformation.java:815)</span><br><span class="line">	... 8 more</span><br><span class="line">Caused by: java.lang.IllegalArgumentException: Illegal principal name foo@FOO: org.apache.hadoop.security.authentication.util.KerberosName$NoMatchingRule: No rules applied to foo@FOO</span><br><span class="line">	at org.apache.hadoop.security.User.&lt;init&gt;(User.java:51)</span><br><span class="line">	at org.apache.hadoop.security.User.&lt;init&gt;(User.java:43)</span><br><span class="line">	at org.apache.hadoop.security.UserGroupInformation$HadoopLoginModule.commit(UserGroupInformation.java:199)</span><br><span class="line">	... 20 more</span><br><span class="line">Caused by: org.apache.hadoop.security.authentication.util.KerberosName$NoMatchingRule: No rules applied to foo@FOO</span><br><span class="line">	at org.apache.hadoop.security.authentication.util.KerberosName.getShortName(KerberosName.java:400)</span><br><span class="line">	at org.apache.hadoop.security.User.&lt;init&gt;(User.java:48)</span><br><span class="line">	... 22 more</span><br></pre></td></tr></table></figure>



<p>究其原因是在初始化<code>FileSystem</code>的时候，化调用到<code>UserGroupInformation#ensureIntialized()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ensureInitialized</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (conf == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">synchronized</span>(UserGroupInformation<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (conf == <span class="keyword">null</span>) &#123; <span class="comment">// someone might have beat us</span></span><br><span class="line">        initialize(<span class="keyword">new</span> Configuration(), <span class="keyword">false</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里直接调用了<code>new Configuration</code>,  而这个对象是加载了classpath里的配置文件的。</p>
<p>所以，直接给UGI指定个configuration就行了</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">Configuration</span>(<span class="literal">false</span>)</span><br><span class="line"><span class="type">UserGroupInformation</span>.setConfiguration(conf)</span><br><span class="line"><span class="keyword">val</span> fileSystem = <span class="type">FileSystem</span>.newInstance(conf)</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2018-06-06T16:00:00.000Z" title="2018-06-06T16:00:00.000Z">2018-06-07</time><span class="level-item"><a class="link-muted" href="/categories/Rust/">Rust</a></span><span class="level-item">12 分钟 读完 (大约 1775 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/07/mio_poll/">mio::poll文档 —— 翻译和注解</a></h1><div class="content"><p>翻译自<a href="https://docs.rs/mio/0.6.14/mio/struct.Poll.html">mio文档: Poll</a></p>
<h1 id="Struct-mio-Poll"><a href="#Struct-mio-Poll" class="headerlink" title="Struct mio::Poll"></a>Struct mio::Poll</h1><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">struct</span> <span class="title">Poll</span></span> &#123; <span class="comment">/* fields omitted */</span> &#125;</span><br></pre></td></tr></table></figure>
<p>Polls for readiness events on all registered values.</p>
<p>Poll allows a program to monitor a large number of Evented types, waiting until one or more become “ready” for some class of operations; e.g. reading and writing. An Evented type is considered ready if it is possible to immediately perform a corresponding operation; e.g. read or write.</p>
<p>To use Poll, an Evented type must first be registered with the Poll instance using the register method, supplying readiness interest. The readiness interest tells Poll which specific operations on the handle to monitor for readiness. A Token is also passed to the register function. When Poll returns a readiness event, it will include this token. This associates the event with the Evented handle that generated the event.</p>
<p>Poll用于从所有注册的value里poll处于就绪状态的事件。这个跟Java里NIO里的概念可以类比下：</p>
<ul>
<li>Selector &lt;-&gt; Poll。可以把Evented注册到Poll上，使用它来监听Evented有关的IO事件。是实现异步IO的关键组件。</li>
<li>Evented &lt;-&gt; SelectionKey。可以通过SelectionKey获取底层的channel进行读写。Evented可以直接进行读写。</li>
<li>Token &lt;-&gt; SelectionKey里attach的对象。用于将事件跟Evented关联起来。</li>
</ul></div><a class="article-more button is-small size-small" href="/2018/06/07/mio_poll/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2018-05-16T16:00:00.000Z" title="2018-05-16T16:00:00.000Z">2018-05-17</time><span class="level-item"><a class="link-muted" href="/categories/Rust/">Rust</a></span><span class="level-item">23 分钟 读完 (大约 3476 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/05/17/Rust_a_complex_example/">关于reborrow的一个复杂的例子</a></h1><div class="content"><p>在查找关于Rust的reborrow的语法时，发现这么一篇文章<a href="https://bluss.github.io/rust/fun/2015/10/11/stuff-the-identity-function-does/">Stuff the Identity Function Does (in Rust)</a>。然后……看不懂，《Programming Rust》快看完了，这篇文章还是看不懂。<br>但是有很多不懂之处的文章，往往是最值得读的，因为它提供了一个线索，能把遗漏的知识串连起来，这是很难得的。</p>
<p>还好有Google, 一路搜索过来，大体也搞清楚了。</p>
<h1 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h1><p>文章里例子是这样的。有一个递归的数据结构，List:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span></span> &#123;</span><br><span class="line">    next: <span class="built_in">Option</span>&lt;<span class="built_in">Box</span>&lt;List&gt;&gt;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>写一个函数来遍历它</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> List &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">walk_the_list</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> current = <span class="keyword">self</span>;</span><br><span class="line">        <span class="keyword">loop</span> &#123;</span><br><span class="line">            <span class="keyword">match</span> current.next &#123;</span><br><span class="line">                <span class="literal">None</span> =&gt; <span class="keyword">return</span>,</span><br><span class="line">                <span class="literal">Some</span>(<span class="keyword">ref</span> <span class="keyword">mut</span> inner) =&gt; current = inner,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以在Rust的<a href="https://play.rust-lang.org/?gist=613e13fd515bfca647ca&version=stable">playgroud</a>里测试一下。你会发现这段代码是通不过编译的。<br>问题在哪呢？</p>
<p>实际上这短短一段代码使用了很多隐晦的语法。</p></div><a class="article-more button is-small size-small" href="/2018/05/17/Rust_a_complex_example/#more">阅读更多</a></article></div></div><div class="column column-left is-3-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/birds.jpg" alt="iBuddha"></figure><p class="title is-size-4 is-block line-height-inherit">iBuddha</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ibuddha" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ibuddha"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Rust/"><span class="level-start"><span class="level-item">Rust</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/hadoop/"><span class="level-start"><span class="level-item">hadoop</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-11T14:44:54.000Z">2020-07-11</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/11/hadoop-empty-configuration/">如何得到一个空的Hadoop Configuration</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/hadoop/">hadoop</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2018-06-06T16:00:00.000Z">2018-06-07</time></p><p class="title is-6"><a class="link-muted" href="/2018/06/07/mio_poll/">mio::poll文档 —— 翻译和注解</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Rust/">Rust</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2018-05-16T16:00:00.000Z">2018-05-17</time></p><p class="title is-6"><a class="link-muted" href="/2018/05/17/Rust_a_complex_example/">关于reborrow的一个复杂的例子</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Rust/">Rust</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/06/"><span class="level-start"><span class="level-item">六月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">五月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Network/"><span class="tag">Network</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Rust/"><span class="tag">Rust</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hadoop/"><span class="tag">hadoop</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/lotus.png" alt="iBuddha" height="28"></a><p class="size-small"><span>&copy; 2020 xing</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://ibuddha.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>